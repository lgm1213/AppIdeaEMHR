<%# app/views/layouts/_flash.html.erb %>
<div id="flash" class="fixed top-4 right-4 z-50 flex flex-col gap-2">
  <% flash.each do |type, message| %>
    <% 
      # dynamic tailwind classes based on message type
      bg_color = type.to_s == 'notice' ? 'bg-green-500' : 'bg-red-500' 
    %>
    
    <div class="<%= bg_color %> text-white px-4 py-3 rounded shadow-lg flex items-center justify-between min-w-[300px] transition-all duration-500 transform translate-y-0 opacity-100"
         data-controller="notification"
         data-notification-delay-value="4000"
         data-transition-enter-from="opacity-0 translate-x-full"
         data-transition-enter-to="opacity-100 translate-x-0"
         data-transition-leave-from="opacity-100 translate-x-0"
         data-transition-leave-to="opacity-0 translate-x-full">
         
      <span><%= message %></span>
      
      <button type="button" class="ml-4 text-white hover:text-gray-200 focus:outline-none" onclick="this.parentElement.remove()">
        <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
        </svg>
      </button>
    </div>
  <% end %>
</div>